<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript" src="/static/js/jquery-3.2.1.js"></script>


    <title>测试页面</title>
    <script type="text/javascript">
        $(function () {
            $('#kaptchaImage').click(function () {//生成验证码
                $(this).hide().attr('src', '/captcha.jpg?' + Math.floor(Math.random() * 100)).fadeIn();
                event.cancelBubble = true;
            });
        });


        window.onbeforeunload = function () {
            //关闭窗口时自动退出
            if (event.clientX > 360 && event.clientY < 0 || event.altKey) {
                alert(parent.document.location);
            }
        };


        function changeCode() {
            $('#kaptchaImage').hide().attr('src', '/captcha.jpg?' + Math.floor(Math.random() * 100)).fadeIn();
            event.cancelBubble = true;
        }
    </script>
</head>
<body>

<div class="chknumber">
    <label>验证码:
        <input name="kaptcha" type="text" id="kaptcha" maxlength="4" class="chknumber_input"/>
    </label>
    <br/>
    <img src="/captcha.jpg" id="kaptchaImage" style="margin-bottom: -3px"/>
    <a href="#" onclick="changeCode()">看不清?换一张</a>
</div>
</body>
</html>